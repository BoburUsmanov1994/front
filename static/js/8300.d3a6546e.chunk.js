"use strict";(self.webpackChunkalfa_invest=self.webpackChunkalfa_invest||[]).push([[8300],{8300:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s,r=n(1413),d=n(168),i=n(2791),c=n(7939),a=n(9439),l=n(4653),o=n(4175),x=n(2250),h=n(763),u=n(9925),j=n(9279),m=n(631),g=n(6591),p=n(3282),f=n(9314),Z=n(3168),b=n(6871),y=n(7892),X=n.n(y),J=n(967),C=(n(8720),n(4519)),Y=n(4910),k=n(4179),B=n(8965),v=n(1830),D=n.n(v),A=n(184),I=function(e){Object.assign({},e);var t=(0,Z.$)().t,n=(0,b.UO)().id,s=(0,b.s0)(),d=(0,i.useState)(!1),c=(0,a.Z)(d,2),y=c[0],v=c[1],I=(0,u.xq)({id:n,key:j.t.agreements,url:m.n.agreements}),N=I.data,w=I.isLoading,M=(I.isError,(0,u.n7)({listKeyId:j.t.agreements})),_=M.mutate,E=M.isLoadingPolicy,F=(0,u.V0)({listKeyId:j.t.agreements}),L=F.mutate,O=F.isLoading,P=(0,f.o)((function(e){return(0,h.get)(e,"setBreadcrumbs",(function(){}))})),T=(0,i.useMemo)((function(){return[{id:1,title:t("Agreements"),path:"/agreements"},{id:2,title:n,path:"#"}]}),[N]);(0,i.useEffect)((function(){P(T)}),[]);return(w||O)&&g.E,(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(o.Z,{children:[(0,A.jsx)(l.X2,{className:"",align:"center",children:(0,A.jsx)(l.JX,{xs:12,children:(0,A.jsx)(x.Z,{children:"Agreement view"})})}),(0,A.jsxs)(l.X2,{children:[(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsxs)(p.Z,{thead:["1","2"],children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("groupofproductsId")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.groupofproductsId.name")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("subgroupofproductsId")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.subgroupofproductsId.name")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("products")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.products.productname")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("startofinsurance")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:X()((0,h.get)(N,"data.data.startofinsurance")).format("DD/MM/YYYY")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("endofinsurance")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:X()((0,h.get)(N,"data.data.endofinsurance")).format("DD/MM/YYYY")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("clinets")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.clinets.forindividualsdata.name")})})]})]})}),(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsxs)(p.Z,{thead:["1","2"],children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("whoaccepted")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.whoaccepted")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("totalinsurancepremium")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.totalinsurancepremium")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("totalsuminsured")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.totalsuminsured")})})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:t("paidinsurancepremium")}),(0,A.jsx)("td",{children:(0,A.jsx)("strong",{children:(0,h.get)(N,"data.data.paidinsurancepremium")})})]})]})})]}),(0,A.jsxs)(l.X2,{className:"mt-15",children:[(0,A.jsxs)(l.JX,{xs:6,children:[(0,A.jsxs)(l.X2,{align:"center",children:[(0,A.jsx)(l.JX,{xs:8,children:(0,A.jsx)(x.Z,{sm:!0,children:"\u041f\u043e\u043b\u0438\u0441"})}),(0,A.jsx)(l.JX,{xs:4,className:"text-right",children:(0,A.jsx)(J.Z,{green:!0,onClick:function(){return s("/policy/create/".concat(n))},className:"mr-16",type:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0438\u0441"})})]}),(0,A.jsx)(l.X2,{className:"mt-15",children:(0,h.get)(N,"data.data.policy",[]).length>0&&(0,A.jsxs)(l.JX,{xs:12,children:[(0,A.jsx)("hr",{}),(0,A.jsx)(p.Z,{hideThead:!1,thead:["Policy number","Form number","Issue date","Action"],children:(0,h.get)(N,"data.data.policy",[]).map((function(e,n){return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:(0,h.get)(e,"policynumber","-")}),(0,A.jsx)("td",{children:(0,h.get)(e,"formno","-")}),(0,A.jsx)("td",{children:X()((0,h.get)(e,"dateofissue")).format("DD/MM/YYYY")}),(0,A.jsx)("td",{className:"cursor-pointer",onClick:function(){return function(e){D().fire({position:"center",icon:"error",backdrop:"rgba(0,0,0,0.9)",background:"none",title:t("Are you sure?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#13D6D1",confirmButtonText:t("Delete"),cancelButtonText:t("Cancel"),customClass:{title:"title-color"}}).then((function(t){t.isConfirmed&&L({url:"".concat(m.n.policy,"/").concat(e)})}))}((0,h.get)(e,"_id",null))},children:(0,A.jsx)(B.Z,{color:"#dc2626"})})]},n+1)}))})]})})]}),(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsxs)(l.X2,{align:"center",children:[(0,A.jsxs)(l.JX,{xs:8,children:[" ",(0,A.jsx)(x.Z,{sm:!0,children:"\u0418\u043d\u0434\u043e\u0441\u0430\u043c\u0435\u043d\u0442\u044b"})]}),(0,A.jsxs)(l.JX,{xs:4,className:"text-right",children:[" ",(0,A.jsx)(J.Z,{onClick:function(){return s("/policy/create/".concat(n))},green:!0,type:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0434\u043e\u0441\u0430\u043c\u0435\u043d\u0442\u044b"})]})]})})]})]}),(0,A.jsxs)(k.Z,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0438\u0441",visible:y,hide:v,children:[E&&(0,A.jsx)(g.p,{}),(0,A.jsx)(C.Z,{formRequest:function(e){!function(e){_({url:m.n.policy,attributes:(0,r.Z)((0,r.Z)({},e),{},{agreementsId:n,copyofdocuments:"xxxxxxxxx"})},{onSuccess:function(){v(!1)},onError:function(){}})}(e.data)},footer:(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(J.Z,{children:t("Add")})}),children:(0,A.jsxs)(l.X2,{className:"mt-15",children:[(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsx)(Y.Z,{type:"input",name:"policynumber"})}),(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsx)(Y.Z,{type:"input",name:"formnumber"})}),(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsx)(Y.Z,{type:"datepicker",name:"dateofissue"})}),(0,A.jsx)(l.JX,{xs:6,children:(0,A.jsx)(Y.Z,{type:"dropzone",name:"copyofdocuments"})})]})})]})]})},N=c.ZP.div(s||(s=(0,d.Z)(["\n  .box__outlined{\n    border:1px dotted #BABABA;\n    padding: 15px;\n    margin-top: 15px;\n    margin-bottom: 15px;\n  }\n"]))),w=function(e){var t=Object.assign({},e);return(0,A.jsx)(N,(0,r.Z)((0,r.Z)({},t),{},{children:(0,A.jsx)(I,{})}))}}}]);
//# sourceMappingURL=8300.d3a6546e.chunk.js.map