"use strict";(self.webpackChunkalfa_invest=self.webpackChunkalfa_invest||[]).push([[9083],{9083:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var n=a(2791),s=a(4942),r=a(1413),i=a(9439),d=a(4925),o=a(4653),c=a(2250),l=a(4175),p=a(967),u=a(8971),x=a(4519),m=a(3168),y=a(9925),f=a(9279),j=a(631),Z=a(6591),h=a(6871),b=a(763),g=a(2703),k=a(184),_=["product_id"],X=function(e){var t=e.product_id,a=void 0===t?null:t,X=((0,d.Z)(e,_),(0,m.$)().t),J=(0,h.s0)(),v=(0,n.useState)({}),q=(0,i.Z)(v,2),I=q[0],Y=q[1],F=(0,y.xq)({id:a,key:f.t.agreements,url:j.n.agreements}),W=F.data,D=F.isLoading,M=F.isError,P=(0,y.n7)({listKeyId:f.t.agreements}),w=P.mutate,E=P.isLoading,A=(0,y.i7)({key:f.t.typeofbco,url:j.n.typeofbco}).data;A=(0,g.WZ)((0,b.get)(A,"data.data",[]),"_id","policy_type_name");var C=(0,y.i7)({key:f.t.statusofpolicy,url:j.n.statusofpolicy}).data;C=(0,g.WZ)((0,b.get)(C,"data.data",[]),"_id","name");var L=(0,y.i7)({key:f.t.statusofpayment,url:j.n.statusofpayment}).data;L=(0,g.WZ)((0,b.get)(L,"data.data",[]),"_id","name");var N=(0,y.i7)({key:f.t.policyblank+(0,b.get)(I,"typeofpoliceId"),url:"".concat(j.n.policyblank,"/f/").concat((0,b.get)(I,"typeofpoliceId")),enabled:!!(0,b.get)(I,"typeofpoliceId")}).data;N=(0,g.WZ)((0,b.get)(N,"data.data",[]),"_id","blank_number");var O=(0,y.i7)({key:f.t.typeofpayment,url:j.n.typeofpayment}).data;O=(0,g.WZ)((0,b.get)(O,"data.data",[]),"_id","name");return M?(0,k.jsx)(h.Fg,{to:"/500"}):D?(0,k.jsx)(Z.E,{}):(0,k.jsxs)(l.Z,{children:[E&&(0,k.jsx)(Z.p,{}),(0,k.jsx)(o.X2,{className:"mb-15",align:"center",children:(0,k.jsx)(o.JX,{xs:12,children:(0,k.jsx)(c.Z,{children:"Add policy"})})}),(0,k.jsx)(x.Z,{getValueFromField:function(e,t){return Y((function(a){return(0,r.Z)((0,r.Z)({},a),{},(0,s.Z)({},t,e))}))},formRequest:function(e){!function(e){w({url:j.n.policy,attributes:(0,r.Z)((0,r.Z)({},e),{},{agreementsId:a,copyofdocuments:"xxxxxxxxx",riskId:(0,b.get)(W,"data.data.riskId"),objectofinsurance:(0,b.get)(W,"data.data.objectofinsurance")})},{onSuccess:function(){J("/agreements/view/".concat(a))},onError:function(){}})}(e.data)},footer:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z,{children:X("Add")})}),children:(0,k.jsx)(o.X2,{children:(0,k.jsx)(o.JX,{xs:12,children:(0,k.jsxs)(o.X2,{className:"mt-15",children:[(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{label:X("Policy type"),options:A,type:"select",name:"typeofpoliceId",params:{required:!0}})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{label:X("Policy blank"),options:N,type:"select",name:"policy_blanknumber",params:{required:!0}})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{type:"select",name:"typeofpayment",params:{required:!0},options:O})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{type:"input",name:"policy_number",params:{required:!0}})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{type:"input",name:"formnumber",params:{required:!0}})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{label:X("Policy status"),options:C,type:"select",name:"statusofpolicy",params:{required:!0}})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{label:X("Payment status"),options:L,type:"select",name:"statusofpayment",params:{required:!0}})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{type:"datepicker",name:"dateofissue",dateFormat:"DD.MM.YYYY"})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{type:"datepicker",name:"dateofend",dateFormat:"DD.MM.YYYY"})}),(0,k.jsx)(o.JX,{xs:4,children:(0,k.jsx)(u.Z,{type:"dropzone",name:"copyofdocuments"})})]})})})})]})},J=function(e){Object.assign({},e);var t=(0,h.UO)().product_id;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(X,{product_id:t})})}}}]);
//# sourceMappingURL=9083.ec870d69.chunk.js.map