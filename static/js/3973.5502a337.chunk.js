"use strict";(self.webpackChunkalfa_invest=self.webpackChunkalfa_invest||[]).push([[3973],{3973:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(1413),s=n(168),i=n(2791),d=n(7939),c=n(9439),o=n(4653),a=n(4175),l=n(2250),u=n(763),h=n(9925),x=n(9279),j=n(631),g=n(6591),m=n(3282),p=n(9314),f=n(3168),y=n(6871),b=n(7892),v=n.n(b),C=n(967),k=n(2007),w=n.n(k);function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function B(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Z=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,d=void 0===s?24:s,c=B(e,["color","size"]);return i.createElement("svg",X({ref:t,xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),i.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),i.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));Z.propTypes={color:w().string,size:w().oneOfType([w().string,w().number])},Z.displayName="Send";var O,D=Z,I=n(8965),N=n(1830),Y=n.n(N),J=n(184),T=function(e){Object.assign({},e);var t=(0,f.$)().t,n=(0,y.UO)().id,r=(0,y.s0)(),s=(0,i.useState)(!1),d=(0,c.Z)(s,2),b=(d[0],d[1],(0,h.xq)({id:n,key:x.t.agreements,url:j.n.agreements})),k=b.data,w=b.isLoading,X=(b.isError,(0,h.i7)({id:n,key:x.t.policyFilter,url:j.n.policyFilter,params:{params:{agreementsId:n}}})),B=X.data,Z=X.isLoading,O=(0,h.xq)({id:n,key:x.t.endorsementFilter,url:j.n.endorsementFilter}),N=O.data,T=O.isLoading,A=(0,h.n7)({listKeyId:x.t.agreements}),F=(A.mutate,A.isLoadingPolicy,(0,h.n7)({listKeyId:x.t.agreements})),L=F.mutate,S=(F.isLoadingSendToFond,(0,h.V0)({listKeyId:x.t.policyFilter})),_=S.mutate,E=S.isLoading,M=(0,h.V0)({listKeyId:x.t.endorsementFilter}),P=M.mutate,K=M.isLoading,q=(0,p.o)((function(e){return(0,u.get)(e,"setBreadcrumbs",(function(){}))})),z=(0,i.useMemo)((function(){return[{id:1,title:t("Agreements"),path:"/agreements"},{id:2,title:n,path:"#"}]}),[k]);(0,i.useEffect)((function(){q(z)}),[]);return w||E||Z||T||K?(0,J.jsx)(g.E,{}):(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)(a.Z,{children:[(0,J.jsx)(o.X2,{className:"",align:"center",children:(0,J.jsx)(o.JX,{xs:12,children:(0,J.jsx)(l.Z,{children:t("Agreement view")})})}),(0,J.jsxs)(o.X2,{children:[(0,J.jsx)(o.JX,{xs:6,children:(0,J.jsxs)(m.Z,{thead:["1","2"],children:[(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("groupofproductsId")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.groupofproductsId.name")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("subgroupofproductsId")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.subgroupofproductsId.name")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("products")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.products.productname")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("startofinsurance")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:v()((0,u.get)(k,"data.data.startofinsurance")).format("DD/MM/YYYY")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("endofinsurance")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:v()((0,u.get)(k,"data.data.endofinsurance")).format("DD/MM/YYYY")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("clinets")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.clinets.forindividualsdata.name")})})]})]})}),(0,J.jsx)(o.JX,{xs:6,children:(0,J.jsxs)(m.Z,{thead:["1","2"],children:[(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("whoaccepted")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.whoaccepted")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("totalinsurancepremium")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.totalinsurancepremium")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("totalsuminsured")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.totalsuminsured")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("paidinsurancepremium")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:(0,u.get)(k,"data.data.paidinsurancepremium")})})]}),(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:t("Status")}),(0,J.jsx)("td",{children:(0,J.jsx)("strong",{children:t((0,u.get)(k,"data.data.status"))})})]})]})})]}),(0,J.jsxs)(o.X2,{className:"mt-15",children:[(0,J.jsxs)(o.JX,{xs:6,children:[(0,J.jsxs)(o.X2,{align:"center",children:[(0,J.jsx)(o.JX,{xs:8,children:(0,J.jsx)(l.Z,{sm:!0,children:"\u041f\u043e\u043b\u0438\u0441"})}),(0,J.jsx)(o.JX,{xs:4,className:"text-right",children:(0,J.jsx)(C.Z,{green:!0,onClick:function(){return r("/policy/create/".concat(n))},className:"mr-16",type:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0438\u0441"})})]}),(0,J.jsx)(o.X2,{className:"mt-15",children:(0,u.get)(B,"data.data",[]).length>0&&(0,J.jsxs)(o.JX,{xs:12,children:[(0,J.jsx)("hr",{}),(0,J.jsx)(m.Z,{hideThead:!1,thead:["Policy number","Issue date","Status","Action"],children:(0,u.get)(B,"data.data",[]).map((function(e,r){return(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:(0,u.get)(e,"policy_number","-")}),(0,J.jsx)("td",{children:v()((0,u.get)(e,"dateofissue")).format("DD/MM/YYYY")}),(0,J.jsx)("td",{children:(0,u.get)(e,"status")}),(0,J.jsxs)("td",{className:"cursor-pointer",children:["new"===(0,u.get)(e,"status")&&(0,J.jsx)(D,{className:"cursor-pointer ",color:"#13D6D1",onClick:function(){return t=n,r=(0,u.get)(e,"_id"),void L({url:"".concat(j.n.sendToFond,"?agreementId=").concat(t,"&policyId=").concat(r)});var t,r}}),"new"===(0,u.get)(e,"status")&&(0,J.jsx)(I.Z,{onClick:function(){return function(e){Y().fire({position:"center",icon:"error",backdrop:"rgba(0,0,0,0.9)",background:"none",title:t("Are you sure?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#13D6D1",confirmButtonText:t("Delete"),cancelButtonText:t("Cancel"),customClass:{title:"title-color"}}).then((function(t){t.isConfirmed&&_({url:"".concat(j.n.policy,"/").concat(e)})}))}((0,u.get)(e,"_id",null))},className:"ml-15",color:"#dc2626"})]})]},r+1)}))})]})})]}),(0,J.jsxs)(o.JX,{xs:6,children:[(0,J.jsxs)(o.X2,{align:"center",children:[(0,J.jsxs)(o.JX,{xs:8,children:[" ",(0,J.jsx)(l.Z,{sm:!0,children:"\u0418\u043d\u0434\u043e\u0441\u0430\u043c\u0435\u043d\u0442\u044b"})]}),(0,J.jsxs)(o.JX,{xs:4,className:"text-right",children:[" ",(0,J.jsx)(C.Z,{onClick:function(){return r("/endorsement/create/".concat(n))},green:!0,type:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0434\u043e\u0441\u0430\u043c\u0435\u043d\u0442\u044b"})]})]}),(0,J.jsx)(o.X2,{className:"mt-15",children:(0,u.get)(N,"data.data",[]).length>0&&(0,J.jsxs)(o.JX,{xs:12,children:[(0,J.jsx)("hr",{}),(0,J.jsx)(m.Z,{hideThead:!1,thead:["Type","Status","Conclusion","Action"],children:(0,u.get)(N,"data.data",[]).map((function(e,n){return(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:(0,u.get)(e,"typeofendorsements.name","-")}),(0,J.jsx)("td",{children:(0,u.get)(e,"statusofendorsements.name","-")}),(0,J.jsx)("td",{children:(0,u.get)(e,"reqforconclusion","-")}),(0,J.jsx)("td",{className:"cursor-pointer",onClick:function(){return function(e){Y().fire({position:"center",icon:"error",backdrop:"rgba(0,0,0,0.9)",background:"none",title:t("Are you sure?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#13D6D1",confirmButtonText:t("Delete"),cancelButtonText:t("Cancel"),customClass:{title:"title-color"}}).then((function(t){t.isConfirmed&&P({url:"".concat(j.n.endorsements,"/").concat(e)})}))}((0,u.get)(e,"_id",null))},children:(0,J.jsx)(I.Z,{color:"#dc2626"})})]},n+1)}))})]})})]})]})]})})},A=d.ZP.div(O||(O=(0,s.Z)(["\n  .box__outlined{\n    border:1px dotted #BABABA;\n    padding: 15px;\n    margin-top: 15px;\n    margin-bottom: 15px;\n  }\n"]))),F=function(e){var t=Object.assign({},e);return(0,J.jsx)(A,(0,r.Z)((0,r.Z)({},t),{},{children:(0,J.jsx)(T,{})}))}}}]);
//# sourceMappingURL=3973.5502a337.chunk.js.map