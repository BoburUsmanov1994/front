"use strict";(self.webpackChunkalfa_invest=self.webpackChunkalfa_invest||[]).push([[9083],{9083:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(2791);var s=a(1413),n=a(4925),r=a(4653),i=a(2250),d=a(4175),o=a(967),c=a(7164),l=a(4519),u=a(3168),x=a(9925),p=a(9279),m=a(631),j=a(6591),f=a(6871),y=a(763),h=a(2703),Z=a(184),g=["product_id"],X=function(e){var t=e.product_id,a=void 0===t?null:t,X=((0,n.Z)(e,g),(0,u.$)().t),b=(0,f.s0)(),k=(0,x.xq)({id:a,key:p.t.agreements,url:m.n.agreements}),J=k.data,v=k.isLoading,_=k.isError,Y=(0,x.n7)({listKeyId:p.t.agreements}),q=Y.mutate,F=Y.isLoading,I=(0,x.i7)({key:p.t.typeofpolice,url:m.n.typeofpolice}).data;I=(0,h.WZ)((0,y.get)(I,"data.data",[]),"_id","name");var D=(0,x.i7)({key:p.t.statusofpolicy,url:m.n.statusofpolicy}).data;D=(0,h.WZ)((0,y.get)(D,"data.data",[]),"_id","name");var M=(0,x.i7)({key:p.t.statusofpayment,url:m.n.statusofpayment}).data;M=(0,h.WZ)((0,y.get)(M,"data.data",[]),"_id","name");return _?(0,Z.jsx)(f.Fg,{to:"/500"}):v?(0,Z.jsx)(j.E,{}):(0,Z.jsxs)(d.Z,{children:[F&&(0,Z.jsx)(j.p,{}),(0,Z.jsx)(r.X2,{className:"mb-15",align:"center",children:(0,Z.jsx)(r.JX,{xs:12,children:(0,Z.jsx)(i.Z,{children:"Add policy"})})}),(0,Z.jsx)(l.Z,{formRequest:function(e){!function(e){q({url:m.n.policy,attributes:(0,s.Z)((0,s.Z)({},e),{},{agreementsId:a,copyofdocuments:"xxxxxxxxx",riskId:(0,y.get)(J,"data.data.riskId"),objectofinsurance:(0,y.get)(J,"data.data.objectofinsurance")})},{onSuccess:function(){b("/agreements/view/".concat(a))},onError:function(){}})}(e.data)},footer:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(o.Z,{children:X("Add")})}),children:(0,Z.jsx)(r.X2,{children:(0,Z.jsx)(r.JX,{xs:12,children:(0,Z.jsxs)(r.X2,{className:"mt-15",children:[(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{type:"input",name:"policynumber",params:{required:!0}})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{type:"input",name:"formnumber",params:{required:!0}})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{label:X("Policy type"),options:I,type:"select",name:"typeofpoliceId",params:{required:!0}})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{label:X("Policy status"),options:D,type:"select",name:"statusofpolicy",params:{required:!0}})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{label:X("Payment status"),options:M,type:"select",name:"statusofpayment",params:{required:!0}})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{type:"datepicker",name:"dateofissue",dateFormat:"DD.MM.YYYY"})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{type:"datepicker",name:"dateofend",dateFormat:"DD.MM.YYYY"})}),(0,Z.jsx)(r.JX,{xs:4,children:(0,Z.jsx)(c.Z,{type:"dropzone",name:"copyofdocuments"})})]})})})})]})},b=function(e){Object.assign({},e);var t=(0,f.UO)().product_id;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(X,{product_id:t})})}}}]);
//# sourceMappingURL=9083.d37b14f2.chunk.js.map