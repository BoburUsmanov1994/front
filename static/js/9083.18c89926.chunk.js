"use strict";(self.webpackChunkalfa_invest=self.webpackChunkalfa_invest||[]).push([[9083],{9083:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var n=a(2791),s=a(4942),r=a(1413),i=a(9439),o=a(4925),d=a(4653),c=a(2250),l=a(4175),u=a(967),p=a(7164),x=a(4519),m=a(3168),y=a(9925),f=a(9279),j=a(631),Z=a(6591),g=a(6871),h=a(763),b=a(2703),k=a(184),X=["product_id"],_=function(e){var t=e.product_id,a=void 0===t?null:t,_=((0,o.Z)(e,X),(0,m.$)().t),J=(0,g.s0)(),v=(0,n.useState)({}),q=(0,i.Z)(v,2),I=q[0],Y=q[1],F=(0,y.xq)({id:a,key:f.t.agreements,url:j.n.agreements}),D=F.data,M=F.isLoading,P=F.isError,W=(0,y.n7)({listKeyId:f.t.agreements}),w=W.mutate,E=W.isLoading,A=(0,y.i7)({key:f.t.typeofpolice,url:j.n.typeofpolice}).data;A=(0,b.WZ)((0,h.get)(A,"data.data",[]),"_id","name");var C=(0,y.i7)({key:f.t.statusofpolicy,url:j.n.statusofpolicy}).data;C=(0,b.WZ)((0,h.get)(C,"data.data",[]),"_id","name");var L=(0,y.i7)({key:f.t.statusofpayment,url:j.n.statusofpayment}).data;L=(0,b.WZ)((0,h.get)(L,"data.data",[]),"_id","name");var N=(0,y.i7)({key:f.t.policyblank+(0,h.get)(I,"typeofpoliceId"),url:"".concat(j.n.policyblank,"/f/").concat((0,h.get)(I,"typeofpoliceId")),enabled:!!(0,h.get)(I,"typeofpoliceId")}).data;N=(0,b.WZ)((0,h.get)(N,"data.data",[]),"_id","blank_number");return P?(0,k.jsx)(g.Fg,{to:"/500"}):M?(0,k.jsx)(Z.E,{}):(console.log("filter",I),(0,k.jsxs)(l.Z,{children:[E&&(0,k.jsx)(Z.p,{}),(0,k.jsx)(d.X2,{className:"mb-15",align:"center",children:(0,k.jsx)(d.JX,{xs:12,children:(0,k.jsx)(c.Z,{children:"Add policy"})})}),(0,k.jsx)(x.Z,{getValueFromField:function(e,t){return Y((function(a){return(0,r.Z)((0,r.Z)({},a),{},(0,s.Z)({},t,e))}))},formRequest:function(e){!function(e){w({url:j.n.policy,attributes:(0,r.Z)((0,r.Z)({},e),{},{agreementsId:a,copyofdocuments:"xxxxxxxxx",riskId:(0,h.get)(D,"data.data.riskId"),objectofinsurance:(0,h.get)(D,"data.data.objectofinsurance")})},{onSuccess:function(){J("/agreements/view/".concat(a))},onError:function(){}})}(e.data)},footer:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(u.Z,{children:_("Add")})}),children:(0,k.jsx)(d.X2,{children:(0,k.jsx)(d.JX,{xs:12,children:(0,k.jsxs)(d.X2,{className:"mt-15",children:[(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{label:_("Policy type"),options:A,type:"select",name:"typeofpoliceId",params:{required:!0}})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{label:_("Policy blank"),options:N,type:"select",name:"policy_blanknumber",params:{required:!0}})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{type:"input",name:"policy_number",params:{required:!0}})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{type:"input",name:"formnumber",params:{required:!0}})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{label:_("Policy status"),options:C,type:"select",name:"statusofpolicy",params:{required:!0}})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{label:_("Payment status"),options:L,type:"select",name:"statusofpayment",params:{required:!0}})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{type:"datepicker",name:"dateofissue",dateFormat:"DD.MM.YYYY"})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{type:"datepicker",name:"dateofend",dateFormat:"DD.MM.YYYY"})}),(0,k.jsx)(d.JX,{xs:4,children:(0,k.jsx)(p.Z,{type:"dropzone",name:"copyofdocuments"})})]})})})})]}))},J=function(e){Object.assign({},e);var t=(0,g.UO)().product_id;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(_,{product_id:t})})}}}]);
//# sourceMappingURL=9083.18c89926.chunk.js.map